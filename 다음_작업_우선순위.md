# í¬ë£¨ì¦ˆ ì§€ë‹ˆ - ë‹¤ìŒ ì‘ì—… ìš°ì„ ìˆœìœ„ ë¶„ì„ì„œ

> **ì‘ì„±ì¼**: 2025ë…„ 11ì›”  
> **í˜„ì¬ ìƒíƒœ**: ë²ˆì—­ê¸° 100% ì™„ì„± âœ…  
> **ëª©í‘œ**: ì¶œì‹œ ê°€ëŠ¥ ìˆ˜ì¤€ 95% ë‹¬ì„±

---

## ğŸ“Š í˜„ì¬ ì™„ì„±ë„ ë¶„ì„

### âœ… ì™„ë£Œëœ ì‘ì—… (100%)
1. **ë²ˆì—­ê¸°** âœ… 100%
   - ìŒì„± ì¸ì‹, ìë™ ë²ˆì—­, ìŒì„± ì¶œë ¥
   - ì‚¬ì§„ ë²ˆì—­ (OCR)
   - ì–¸ì–´ ìë™ ì„ íƒ
   - ìƒí™©ë³„ ë²ˆì—­ ë„ìš°ë¯¸ (ì¹´í…Œê³ ë¦¬ë³„ ë¬¸ì¥)
   - ë°œìŒ í‘œì‹œ (í•œêµ­ì–´ ë°œìŒ)
   - ìŠ¤í”¼ì»¤ ë²„íŠ¼ (ì¬ìƒ)
   - íŠœí† ë¦¬ì–¼

2. **ì˜¨ë³´ë”©** âœ… 100%
   - í¬ë£¨ì¦ˆ ì„ íƒ ë“œë¡­ë‹¤ìš´
   - ìë™ ì—¬í–‰ ì •ë³´ ìƒì„±
   - ë‚ ì§œ ì„ íƒ

3. **ë„¤ë¹„ê²Œì´ì…˜ UI** âœ… 95%
   - êµ¬ê¸€ ë§µ ë²„íŠ¼ í¬ê¸° ì¦ê°€ (min-h-[100px]) âœ…
   - ëŒ€ì¤‘êµí†µ/ìë™ì°¨/ì§€ë„ë³´ê¸° ë²„íŠ¼ âœ…
   - NavigationBlock ì»´í¬ë„ŒíŠ¸ ì™„ë£Œ

4. **ì‚¬ì§„ ê°¤ëŸ¬ë¦¬ UI** âœ… 95%
   - í•˜ìœ„ í´ë” ë²„íŠ¼ í¬ê¸° ì¦ê°€ âœ…
   - ì´ë¯¸ì§€ í™•ëŒ€ ë³´ê¸° âœ…
   - PhotoAlbum ì»´í¬ë„ŒíŠ¸ ì™„ë£Œ

---

## ğŸ”´ ë‹¤ìŒ ì‘ì—… ìš°ì„ ìˆœìœ„ (ì¦‰ì‹œ ì‹¤í–‰)

### 1ìˆœìœ„: "ë³´ì—¬ì¤˜" ê¸°ëŠ¥ êµ¬í˜„ (2-3ì‹œê°„) ğŸ”¥

**ìƒíƒœ**: ë¶€ë¶„ êµ¬í˜„ (detect.tsë§Œ ì¡´ì¬, ì‹¤ì œ ì—°ê²° ì•ˆ ë¨)

**ì‘ì—… ë‚´ìš©**:
- [ ] `/app/api/chat/route.ts`ì— "ë³´ì—¬ì¤˜" ì˜ë„ ê°ì§€ ì¶”ê°€
- [ ] êµ¬ê¸€ ì´ë¯¸ì§€ ê²€ìƒ‰ ë§í¬ ìƒì„± í•¨ìˆ˜ ì¶”ê°€
- [ ] í¬ë£¨ì¦ˆë‹· ìì²´ ì‚¬ì§„ ê²€ìƒ‰ ì—°ë™
- [ ] "ë³´ì—¬ì¤˜" UI ë¸”ë¡ ìƒì„± (ChatMessages.tsx)
- [ ] êµ¬ê¸€ ì´ë¯¸ì§€ ê²€ìƒ‰ ë²„íŠ¼ í¬ê²Œ ë§Œë“¤ê¸° (min-h-[100px])

**íŒŒì¼**:
- `/lib/chat/detect.ts` - ì˜ë„ ê°ì§€ í•¨ìˆ˜ ì¶”ê°€
- `/app/api/chat/route.ts` - "ë³´ì—¬ì¤˜" ì²˜ë¦¬ ë¡œì§ ì¶”ê°€
- `/app/chat/components/ChatMessages.tsx` - UI ë¸”ë¡ ì¶”ê°€
- `/lib/nav/google.ts` - êµ¬ê¸€ ì´ë¯¸ì§€ ê²€ìƒ‰ í•¨ìˆ˜ (ì—†ìœ¼ë©´ ìƒì„±)

**ì˜ˆìƒ ì†Œìš”**: 2-3ì‹œê°„

---

### 2ìˆœìœ„: ì—°ê´€ê²€ìƒ‰ ë²„íŠ¼ í¬ê¸° ì¦ê°€ (1-2ì‹œê°„)

**ìƒíƒœ**: ê¸°ëŠ¥ì€ ìˆìœ¼ë‚˜ ë²„íŠ¼ì´ ì‘ì„ ìˆ˜ ìˆìŒ

**ì‘ì—… ë‚´ìš©**:
- [ ] ì—°ê´€ê²€ìƒ‰ ë²„íŠ¼ íŒŒì¼ ì°¾ê¸°
- [ ] ë²„íŠ¼ í¬ê¸° ì¦ê°€ (min-h-[70px])
- [ ] í° ê¸€ì”¨, ëª…í™•í•œ ì•„ì´ì½˜
- [ ] í„°ì¹˜ í”¼ë“œë°± ê°•í™”

**ì˜ˆìƒ ì†Œìš”**: 1-2ì‹œê°„

---

### 3ìˆœìœ„: ì±„íŒ… íˆìŠ¤í† ë¦¬ ë¡œë“œ (2-3ì‹œê°„)

**ìƒíƒœ**: íˆìŠ¤í† ë¦¬ ì €ì¥ì€ ë˜ë‚˜, í˜ì´ì§€ ë¡œë“œ ì‹œ ë³µì› ì•ˆ ë¨

**ì‘ì—… ë‚´ìš©**:
- [ ] `/app/api/chat/history` API í™•ì¸
- [ ] ChatClientShellì— íˆìŠ¤í† ë¦¬ ë¡œë“œ ë¡œì§ ì¶”ê°€
- [ ] ë¡œë”© ìƒíƒœ UI
- [ ] ìƒˆë¡œê³ ì¹¨ í›„ ë©”ì‹œì§€ ë³µì› í™•ì¸

**íŒŒì¼**:
- `/app/chat/components/ChatClientShell.tsx`
- `/app/api/chat/history/route.ts` (í™•ì¸ í•„ìš”)

**ì˜ˆìƒ ì†Œìš”**: 2-3ì‹œê°„

---

### 4ìˆœìœ„: ì—ëŸ¬ ë©”ì‹œì§€ í•œêµ­ì–´í™” (1-2ì‹œê°„)

**ìƒíƒœ**: ì¼ë¶€ ì—ëŸ¬ ë©”ì‹œì§€ê°€ ì˜ì–´ë¡œ í‘œì‹œë¨

**ì‘ì—… ë‚´ìš©**:
- [ ] ì£¼ìš” API ì—ëŸ¬ ë©”ì‹œì§€ í•œêµ­ì–´ë¡œ ë³€ê²½
- [ ] ì‚¬ìš©ì ì¹œí™”ì  ë©”ì‹œì§€ ì‘ì„±
- [ ] ì—ëŸ¬ ë©”ì‹œì§€ ì¤‘ì•™ ê´€ë¦¬ íŒŒì¼ ìƒì„± (`lib/errors.ts`)

**ì˜ˆìƒ ì†Œìš”**: 1-2ì‹œê°„

---

### 5ìˆœìœ„: í™˜ìœ¨ API í´ë°± ì²˜ë¦¬ (1ì‹œê°„)

**ìƒíƒœ**: í™˜ìœ¨ API ì‹¤íŒ¨ ì‹œ ì²˜ë¦¬ í•„ìš”

**ì‘ì—… ë‚´ìš©**:
- [ ] í´ë°± í™˜ìœ¨ ë°ì´í„° ì¶”ê°€
- [ ] API ì‹¤íŒ¨ ì‹œ í´ë°± ì‚¬ìš©
- [ ] ì‚¬ìš©ìì—ê²Œ ì•ˆë‚´ ë©”ì‹œì§€ í‘œì‹œ

**ì˜ˆìƒ ì†Œìš”**: 1ì‹œê°„

---

### 6ìˆœìœ„: ê²€ìƒ‰ ê°€ì´ë“œ ì¶”ê°€ (1ì‹œê°„)

**ìƒíƒœ**: ì‚¬ìš©ìê°€ ê²€ìƒ‰ ë°©ë²•ì„ ëª¨ë¥¼ ìˆ˜ ìˆìŒ

**ì‘ì—… ë‚´ìš©**:
- [ ] ì±„íŒ… ì…ë ¥ì°½ ìœ„ì— ê°€ì´ë“œ ë©”ì‹œì§€ ì¶”ê°€
- [ ] ì˜ˆì‹œ ë¬¸ì¥ í‘œì‹œ
- [ ] í° ê¸€ì”¨, ëª…í™•í•œ ì•ˆë‚´

**ì˜ˆìƒ ì†Œìš”**: 1ì‹œê°„

---

## ğŸ“… ì‘ì—… ìˆœì„œ (ì¶”ì²œ)

### ì˜¤ëŠ˜ ë°”ë¡œ ì‹œì‘ (1ì¼ ì‘ì—…)

#### ì˜¤ì „ (3ì‹œê°„)
1. **"ë³´ì—¬ì¤˜" ê¸°ëŠ¥ êµ¬í˜„** (2-3ì‹œê°„)
   - ê°€ì¥ ì¤‘ìš”í•œ ê¸°ëŠ¥
   - ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­ ì¶©ì¡±
   - êµ¬ê¸€ ì´ë¯¸ì§€ ê²€ìƒ‰ ì¶”ê°€

#### ì˜¤í›„ (3ì‹œê°„)
2. **ì—°ê´€ê²€ìƒ‰ ë²„íŠ¼ í¬ê¸° ì¦ê°€** (1-2ì‹œê°„)
3. **ê²€ìƒ‰ ê°€ì´ë“œ ì¶”ê°€** (1ì‹œê°„)
4. **í…ŒìŠ¤íŠ¸ ë° ìˆ˜ì •** (1ì‹œê°„)

---

### ë‚´ì¼ ì‘ì—… (2ì¼ ì‘ì—…)

#### ì˜¤ì „ (3ì‹œê°„)
1. **ì±„íŒ… íˆìŠ¤í† ë¦¬ ë¡œë“œ** (2-3ì‹œê°„)
   - ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
   - ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ë©”ì‹œì§€ ìœ ì§€

#### ì˜¤í›„ (3ì‹œê°„)
2. **ì—ëŸ¬ ë©”ì‹œì§€ í•œêµ­ì–´í™”** (1-2ì‹œê°„)
3. **í™˜ìœ¨ API í´ë°± ì²˜ë¦¬** (1ì‹œê°„)
4. **í†µí•© í…ŒìŠ¤íŠ¸** (1ì‹œê°„)

---

## ğŸ¯ ì™„ë£Œ ì‹œ ë‹¬ì„± ëª©í‘œ

### ê¸°ëŠ¥ ì™„ì„±ë„: 98%
- âœ… ë²ˆì—­ê¸°: 100%
- âœ… ì˜¨ë³´ë”©: 100%
- âœ… ë„¤ë¹„ê²Œì´ì…˜: 100%
- âœ… ì‚¬ì§„ ê²€ìƒ‰: 100% (ë³´ì—¬ì¤˜ ê¸°ëŠ¥ í¬í•¨)
- âœ… ì±„íŒ…: 95% (íˆìŠ¤í† ë¦¬ ë¡œë“œ)
- âœ… ì—ëŸ¬ ì²˜ë¦¬: 100%

### 50ëŒ€+ ì¹œí™”ë„: 95%
- âœ… ëª¨ë“  ë²„íŠ¼ 60px ì´ìƒ
- âœ… í° ê¸€ì”¨
- âœ… ëª…í™•í•œ ì•ˆë‚´
- âœ… íŠœí† ë¦¬ì–¼
- âœ… í•œêµ­ì–´ ì—ëŸ¬ ë©”ì‹œì§€

---

## ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì¦‰ì‹œ ì‹¤í–‰ (ì˜¤ëŠ˜)
- [ ] 1. "ë³´ì—¬ì¤˜" ê¸°ëŠ¥ êµ¬í˜„
  - [ ] detect.tsì— í•¨ìˆ˜ ì¶”ê°€
  - [ ] route.tsì— ì²˜ë¦¬ ë¡œì§ ì¶”ê°€
  - [ ] ChatMessages.tsxì— UI ë¸”ë¡ ì¶”ê°€
  - [ ] êµ¬ê¸€ ì´ë¯¸ì§€ ê²€ìƒ‰ ë²„íŠ¼ í¬ê²Œ
  - [ ] í…ŒìŠ¤íŠ¸

- [ ] 2. ì—°ê´€ê²€ìƒ‰ ë²„íŠ¼ í¬ê¸° ì¦ê°€
  - [ ] íŒŒì¼ ì°¾ê¸°
  - [ ] ë²„íŠ¼ í¬ê¸° ìˆ˜ì •
  - [ ] í…ŒìŠ¤íŠ¸

- [ ] 3. ê²€ìƒ‰ ê°€ì´ë“œ ì¶”ê°€
  - [ ] ê°€ì´ë“œ ë©”ì‹œì§€ ì‘ì„±
  - [ ] UI ì¶”ê°€
  - [ ] í…ŒìŠ¤íŠ¸

### ë‚´ì¼ ì‘ì—…
- [ ] 4. ì±„íŒ… íˆìŠ¤í† ë¦¬ ë¡œë“œ
  - [ ] API í™•ì¸
  - [ ] ë¡œë“œ ë¡œì§ ì¶”ê°€
  - [ ] í…ŒìŠ¤íŠ¸

- [ ] 5. ì—ëŸ¬ ë©”ì‹œì§€ í•œêµ­ì–´í™”
  - [ ] lib/errors.ts ìƒì„±
  - [ ] ì£¼ìš” API ìˆ˜ì •
  - [ ] í…ŒìŠ¤íŠ¸

- [ ] 6. í™˜ìœ¨ API í´ë°± ì²˜ë¦¬
  - [ ] í´ë°± ë°ì´í„° ì¶”ê°€
  - [ ] ì—ëŸ¬ ì²˜ë¦¬ ì¶”ê°€
  - [ ] í…ŒìŠ¤íŠ¸

---

## ğŸš€ ì‹œì‘í•˜ê¸°

### ê°€ì¥ ë¨¼ì € í•  ì‘ì—…: "ë³´ì—¬ì¤˜" ê¸°ëŠ¥

1. **íŒŒì¼ í™•ì¸**:
```bash
cd /home/userhyeseon28/projects/cruise-guide
ls lib/chat/
ls app/api/chat/
```

2. **ì˜ë„ ê°ì§€ í•¨ìˆ˜ ì¶”ê°€** (`lib/chat/detect.ts`):
```typescript
export function detectShowMeIntent(text: string): boolean {
  const patterns = [
    /ë³´ì—¬\s*ì¤˜/,
    /ë³´ì—¬\s*ì£¼ì„¸ìš”/,
    /ì‚¬ì§„\s*ë³´ì—¬/,
    /ì´ë¯¸ì§€\s*ë³´ì—¬/,
  ];
  return patterns.some(p => p.test(text));
}

export function extractShowMeQuery(text: string): string {
  return text
    .replace(/ë³´ì—¬\s*(ì¤˜|ì£¼ì„¸ìš”)/g, '')
    .replace(/ì‚¬ì§„/g, '')
    .replace(/ì´ë¯¸ì§€/g, '')
    .trim();
}
```

3. **API ì²˜ë¦¬ ë¡œì§ ì¶”ê°€** (`app/api/chat/route.ts`):
```typescript
import { detectShowMeIntent, extractShowMeQuery } from '@/lib/chat/detect';

// POST í•¸ë“¤ëŸ¬ ë‚´ë¶€
if (detectShowMeIntent(body.text)) {
  const query = extractShowMeQuery(body.text);
  
  // í¬ë£¨ì¦ˆë‹· ìì²´ ì‚¬ì§„ ê²€ìƒ‰
  const photosRes = await fetch(`${baseUrl}/api/photos?q=${query}`);
  const photosData = await photosRes.json();
  
  // êµ¬ê¸€ ì´ë¯¸ì§€ ê²€ìƒ‰ ë§í¬
  const googleUrl = `https://www.google.com/search?q=${encodeURIComponent(query)}&tbm=isch`;
  
  return NextResponse.json({
    ok: true,
    messages: [{
      id: nanoid(),
      role: 'assistant',
      type: 'show-me',
      text: `${query} ì‚¬ì§„ì„ ì°¾ì•˜ì–´ìš”! ğŸ‰`,
      query: query,
      googleImageUrl: googleUrl,
      cruisePhotos: photosData.items || [],
    }],
  });
}
```

4. **UI ë¸”ë¡ ì¶”ê°€** (`app/chat/components/ChatMessages.tsx`):
```typescript
{message.type === 'show-me' && (
  <div className="space-y-4">
    <p className="text-xl font-bold">{message.text}</p>
    
    {/* êµ¬ê¸€ ì´ë¯¸ì§€ ê²€ìƒ‰ ë²„íŠ¼ (í¬ê²Œ!) */}
    <a
      href={message.googleImageUrl}
      target="_blank"
      className="
        flex items-center justify-center gap-3
        px-6 py-6
        bg-gradient-to-r from-red-500 to-pink-500
        text-white
        rounded-xl
        shadow-lg
        hover:shadow-xl
        text-xl font-bold
        min-h-[100px]
        active:scale-95
        transition-all
      "
    >
      <span className="text-4xl">ğŸŒ</span>
      <div className="flex flex-col items-start">
        <span>êµ¬ê¸€ì—ì„œ ë” ë§ì€ ì‚¬ì§„ ë³´ê¸°</span>
        <span className="text-sm opacity-90">Google ì´ë¯¸ì§€ ê²€ìƒ‰</span>
      </div>
    </a>
    
    {/* í¬ë£¨ì¦ˆë‹· ìì²´ ì‚¬ì§„ */}
    {message.cruisePhotos?.length > 0 && (
      <PhotoAlbum 
        items={message.cruisePhotos} 
        query={message.query}
      />
    )}
  </div>
)}
```

---

## âœ… ì™„ë£Œ ì‹œ ìµœì¢… ìƒíƒœ

### í•µì‹¬ ê¸°ëŠ¥ ì™„ì„±ë„
- âœ… **ë²ˆì—­ê¸°**: 100% (ì™„ë²½)
- âœ… **ê²€ìƒ‰ (ê¸¸ì°¾ê¸°)**: 100%
- âœ… **ì‚¬ì§„ ê²€ìƒ‰**: 100% (ë³´ì—¬ì¤˜ í¬í•¨)
- âœ… **ì˜¨ë³´ë”©**: 100%
- âœ… **í‘¸ì‹œ ì•Œë¦¼**: 100%
- âœ… **ì—ëŸ¬ ì²˜ë¦¬**: 100%

### ì¶œì‹œ ì¤€ë¹„
- âœ… **ê¸°ëŠ¥ ì™„ì„±ë„**: 98%
- âœ… **50ëŒ€+ ì¹œí™”ë„**: 95%
- âœ… **ì‚¬ìš©ì ê²½í—˜**: ìµœì í™”
- âœ… **ì—ëŸ¬ ì²˜ë¦¬**: ì™„ë²½

---

## ğŸŠ ê²°ë¡ 

**ë²ˆì—­ê¸°ê°€ ì™„ì„±ë˜ì—ˆìœ¼ë‹ˆ, ë‹¤ìŒ ìš°ì„ ìˆœìœ„ëŠ”:**

1. **"ë³´ì—¬ì¤˜" ê¸°ëŠ¥** - ê°€ì¥ ì¤‘ìš”í•œ ê²€ìƒ‰ ê¸°ëŠ¥ ê°•í™”
2. **UI ê°œì„ ** - ì—°ê´€ê²€ìƒ‰ ë²„íŠ¼, ê°€ì´ë“œ ë©”ì‹œì§€
3. **ì‚¬ìš©ì ê²½í—˜** - íˆìŠ¤í† ë¦¬ ë¡œë“œ, ì—ëŸ¬ ì²˜ë¦¬

**ì´ ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 8-12ì‹œê°„ (1-2ì¼ ì‘ì—…)

**ì™„ë£Œ í›„ ì¶œì‹œ ê°€ëŠ¥ ìˆ˜ì¤€**: **95% ì´ìƒ** ğŸš€

---

**ì‘ì„±ì¼**: 2025ë…„ 11ì›”  
**ë‹¤ìŒ ì‘ì—…**: ì§€ê¸ˆ ë°”ë¡œ "ë³´ì—¬ì¤˜" ê¸°ëŠ¥ êµ¬í˜„ ì‹œì‘!

















