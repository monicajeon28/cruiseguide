# 여러 국가 날씨 표시 확인 가이드

## 확인 방법

### 1. 브라우저 개발자 도구 열기
- **Chrome/Edge**: `F12` 또는 `Ctrl+Shift+I` (Windows) / `Cmd+Option+I` (Mac)
- **Firefox**: `F12` 또는 `Ctrl+Shift+K` (Windows) / `Cmd+Option+K` (Mac)

### 2. 콘솔 탭에서 로그 확인
다음 로그들이 표시되는지 확인하세요:

```
[DailyBriefingCard] API response: {
  ok: true,
  hasTrip: true,
  hasBriefing: true,
  hasWeathers: true,
  weathersCount: 2,  // 또는 3, 4 등 (국가 수)
  weathers: [...]
}

[DailyBriefingCard] Rendering weather: {
  isCruising: false,
  hasWeathers: true,
  weathersLength: 2,
  weathers: [...]
}
```

### 3. 서버 콘솔 확인
터미널에서 다음 로그를 확인하세요:

```
[Briefing API] All itineraries: { tripId: ..., count: ..., countries: [...] }
[Briefing API] Unique countries: [['JP', '후쿠오카'], ['KR', '부산']]
[Briefing API] Weathers array: [{ country: '일본', ... }, { country: '한국', ... }]
```

## 문제 진단

### Case 1: `weathersCount: 0` 또는 `weathers: []`
- **원인**: 여행 일정(itinerary)에 국가 정보가 없음
- **해결**: 데이터베이스에서 itinerary 데이터 확인 필요

### Case 2: `hasWeathers: false`
- **원인**: API에서 `weathers` 배열이 반환되지 않음
- **해결**: API 코드 확인 필요

### Case 3: `isCruising: true`
- **원인**: 오늘이 "항해 중" 날짜
- **해결**: 정상 동작 (항해 중에는 날씨가 표시되지 않음)

### Case 4: 날씨가 하나만 표시됨
- **원인**: `weathers` 대신 기존 `weather` 필드가 사용됨
- **해결**: 브라우저 캐시 삭제 후 새로고침 (`Ctrl+Shift+R`)

## 수동 확인 방법

### 1. 브라우저 새로고침
- 강력 새로고침: `Ctrl+Shift+R` (Windows) / `Cmd+Shift+R` (Mac)

### 2. 네트워크 탭에서 API 응답 확인
1. 개발자 도구 → **Network** 탭
2. 페이지 새로고침
3. `/api/briefing/today` 요청 찾기
4. **Response** 탭에서 `weathers` 배열 확인

### 3. 콘솔에서 직접 확인
브라우저 콘솔에서 다음 명령 실행:

```javascript
fetch('/api/briefing/today', { credentials: 'include' })
  .then(r => r.json())
  .then(data => console.log('Weathers:', data.briefing?.weathers));
```

















